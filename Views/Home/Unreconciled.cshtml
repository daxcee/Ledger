@model Ledger.Models.ViewModels.UnreconciledViewModel

@{
    ViewBag.Title = "Unreconciled";
    var dummy = Model.Transactions.FirstOrDefault();
}

<h2>Unreconciled</h2>

<input type="hidden" id="ledgerId" value="@Model.Ledger"/>

<p>
    Current Balance: <strong><span id="currentBalance">@Model.CurrentBalance</span></strong>,
    Actual Balance: <strong>@Model.ActualBalance</strong>
</p>

<p>Reconciled date: <input type="text" id="reconcileDate" /></p>

<table border="1">
    <tr>
        <th>
            @Html.DisplayNameFor(model => dummy.Id)
        </th>
        <th>
            @Html.DisplayNameFor(model => dummy.Desc)
        </th>
        <th>
            @Html.DisplayNameFor(model => dummy.Amount)
        </th>
        <th>
            @Html.DisplayNameFor(model => dummy.DateDue)
        </th>
        <th>
            @Html.DisplayNameFor(model => dummy.DatePayed)
        </th>
        <th>
            @Html.DisplayNameFor(model => dummy.DateReconciled)
        </th>
        <th>
            @Html.DisplayNameFor(model => dummy.Account)
        </th>
        <th>
            @Html.DisplayNameFor(model => dummy.Ledger)
        </th>
        <th>
            &nbsp;
        </th>
    </tr>

@foreach (var item in Model.Transactions) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Id)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Desc)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Amount)
        </td>
        <td>
            @if (item.DateDue.HasValue)
            {
                @item.DateDue.Value.ToString("M/d/yyyy")
            }
        </td>
        <td>
            @if (item.DatePayed.HasValue)
            {
                @item.DatePayed.Value.ToString("M/d/yyyy")
            }
        </td>
        <td>
            <input type="button" class="doReconcile" value="X" data-id="@item.Id" />
        </td>
        <td>
            @Model.AccountsList.Single(l => l.Value == item.Account.ToString()).Text
        </td>
        <td>
            @Model.LedgerList.Single(l => l.Value == item.Ledger.ToString()).Text
        </td>
        <td>
            <input type="button" value="Edit" class="editTransaction" data-id="@item.Id" />
            <input type="button" value="Delete" class="deleteTransaction" data-id="@item.Id" />
        </td>
    </tr>
}
    <tr>
        <td>
            &nbsp;
        </td>
        <td>
            <input type="text" id="desc" size="30" />
        </td>
        <td>
            <input type="text" id="amount" size="10" />
        </td>
        <td>
            <input type="text" id="datedue" size="10" />
        </td>
        <td>
            <input type="text" id="datepayed" size="10" />
        </td>
        <td>
            <input type="text" id="datereconciled" size="10" />
        </td>
        <td>
            @Html.DropDownList("account", Model.AccountsList, "Select...")
        </td>
        <td>
            @Html.DropDownList("ledger", Model.LedgerList, "Select...")
        </td>
        <td>
            <input type="button" value="Save" id="submitNew" />
        </td>
    </tr>

</table>

    
